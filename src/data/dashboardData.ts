// Content posts data from Dec 1-16, 2025
export const contentPosts = [
  { id: "post_001", platform: "instagram", type: "reel", handle: "@danedgar", published_at: "2025-12-01T10:30:00Z", title: "Morning routine with THE BOX", views: 45200, likes: 1890, comments: 234, shares: 156, saves: 892 },
  { id: "post_002", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-01T14:00:00Z", title: "Quick styling tip", views: 12400, likes: 0, comments: 0, shares: 89, saves: 0 },
  { id: "post_003", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-02T09:00:00Z", title: "Product demo - DEFINE styling", views: 28900, likes: 1245, comments: 89, shares: 234, saves: 0 },
  { id: "post_004", platform: "instagram", type: "post", handle: "@danedgar", published_at: "2025-12-03T11:00:00Z", title: "Lifestyle shot - casual Friday", views: 8900, likes: 567, comments: 45, shares: 23, saves: 234 },
  { id: "post_005", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-03T16:30:00Z", title: "Unboxing THE BOX - first impressions", views: 67500, likes: 3420, comments: 278, shares: 567, saves: 0 },
  { id: "post_006", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-04T08:00:00Z", title: "Behind the scenes", views: 11200, likes: 0, comments: 0, shares: 45, saves: 0 },
  { id: "post_007", platform: "instagram", type: "reel", handle: "@danedgar", published_at: "2025-12-04T12:00:00Z", title: "Get ready with me - date night", views: 52300, likes: 2340, comments: 189, shares: 345, saves: 1023 },
  { id: "post_008", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-05T10:00:00Z", title: "3 ways to use SALT spray", views: 34200, likes: 1567, comments: 123, shares: 289, saves: 0 },
  { id: "post_009", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-05T15:00:00Z", title: "Q&A - your grooming questions", views: 14500, likes: 0, comments: 0, shares: 67, saves: 0 },
  { id: "post_010", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-06T09:00:00Z", title: "Weekend vibes", views: 10800, likes: 0, comments: 0, shares: 34, saves: 0 },
  { id: "post_011", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-06T14:00:00Z", title: "HOLD vs DEFINE - which one?", views: 41200, likes: 1890, comments: 145, shares: 312, saves: 0 },
  { id: "post_012", platform: "instagram", type: "reel", handle: "@danedgar", published_at: "2025-12-07T11:30:00Z", title: "Sunday reset routine", views: 38900, likes: 1890, comments: 156, shares: 234, saves: 789 },
  { id: "post_013", platform: "instagram", type: "post", handle: "@danedgar", published_at: "2025-12-08T10:00:00Z", title: "New week, fresh look", views: 7600, likes: 456, comments: 34, shares: 12, saves: 189 },
  { id: "post_014", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-08T15:00:00Z", title: "Quick 2-min styling hack", views: 89200, likes: 4560, comments: 567, shares: 890, saves: 0 },
  { id: "post_015", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-09T08:30:00Z", title: "Morning check-in", views: 11900, likes: 0, comments: 0, shares: 56, saves: 0 },
  { id: "post_016", platform: "instagram", type: "reel", handle: "@danedgar", published_at: "2025-12-09T13:00:00Z", title: "THE BOX gift guide", views: 61200, likes: 2890, comments: 234, shares: 567, saves: 1456 },
  { id: "post_017", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-10T10:30:00Z", title: "Reacting to your styling attempts", views: 78400, likes: 3890, comments: 456, shares: 678, saves: 0 },
  { id: "post_018", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-10T16:00:00Z", title: "Flash sale reminder", views: 15600, likes: 0, comments: 0, shares: 89, saves: 0 },
  { id: "post_019", platform: "instagram", type: "post", handle: "@danedgar", published_at: "2025-12-11T09:00:00Z", title: "Customer transformation", views: 12300, likes: 890, comments: 78, shares: 45, saves: 234 },
  { id: "post_020", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-11T14:00:00Z", title: "Holiday styling ideas", views: 56700, likes: 2780, comments: 234, shares: 456, saves: 0 },
  { id: "post_021", platform: "instagram", type: "reel", handle: "@danedgar", published_at: "2025-12-12T11:00:00Z", title: "5 looks, 1 product", views: 48900, likes: 2340, comments: 189, shares: 345, saves: 890 },
  { id: "post_022", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-12T17:00:00Z", title: "Limited stock alert", views: 13200, likes: 0, comments: 0, shares: 78, saves: 0 },
  { id: "post_023", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-13T10:00:00Z", title: "Behind the brand", views: 34500, likes: 1670, comments: 123, shares: 234, saves: 0 },
  { id: "post_024", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-13T15:00:00Z", title: "Weekend plans?", views: 9800, likes: 0, comments: 0, shares: 23, saves: 0 },
  { id: "post_025", platform: "instagram", type: "post", handle: "@danedgar", published_at: "2025-12-14T10:00:00Z", title: "THE BOX close-up", views: 6700, likes: 345, comments: 28, shares: 15, saves: 156 },
  { id: "post_026", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-14T16:00:00Z", title: "Why I created this brand", views: 92300, likes: 5120, comments: 678, shares: 1023, saves: 0 },
  { id: "post_027", platform: "instagram", type: "reel", handle: "@danedgar", published_at: "2025-12-15T12:00:00Z", title: "Last minute gift idea", views: 55600, likes: 2670, comments: 212, shares: 456, saves: 1123 },
  { id: "post_028", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-15T18:00:00Z", title: "Shipping cutoff reminder", views: 14800, likes: 0, comments: 0, shares: 92, saves: 0 },
  { id: "post_029", platform: "tiktok", type: "video", handle: "@danedgar90", published_at: "2025-12-16T09:00:00Z", title: "Full routine breakdown", views: 71200, likes: 3560, comments: 389, shares: 567, saves: 0 },
  { id: "post_030", platform: "instagram", type: "story", handle: "@danedgar", published_at: "2025-12-16T14:00:00Z", title: "Thank you message", views: 11200, likes: 0, comments: 0, shares: 34, saves: 0 },
];

// Daily sales data
export const dailySales = [
  { date: "2025-12-01", revenue: 312, orders: 9, units: { THE_BOX: 5, DEFINE: 2, SALT: 1, HOLD: 1 } },
  { date: "2025-12-02", revenue: 478, orders: 14, units: { THE_BOX: 8, DEFINE: 3, SALT: 2, HOLD: 1 } },
  { date: "2025-12-03", revenue: 389, orders: 11, units: { THE_BOX: 6, DEFINE: 2, SALT: 2, HOLD: 1 } },
  { date: "2025-12-04", revenue: 567, orders: 17, units: { THE_BOX: 10, DEFINE: 4, SALT: 2, HOLD: 1 } },
  { date: "2025-12-05", revenue: 623, orders: 19, units: { THE_BOX: 11, DEFINE: 4, SALT: 3, HOLD: 1 } },
  { date: "2025-12-06", revenue: 445, orders: 13, units: { THE_BOX: 7, DEFINE: 3, SALT: 2, HOLD: 1 } },
  { date: "2025-12-07", revenue: 356, orders: 10, units: { THE_BOX: 5, DEFINE: 2, SALT: 2, HOLD: 1 } },
  { date: "2025-12-08", revenue: 412, orders: 12, units: { THE_BOX: 6, DEFINE: 3, SALT: 2, HOLD: 1 } },
  { date: "2025-12-09", revenue: 534, orders: 16, units: { THE_BOX: 9, DEFINE: 4, SALT: 2, HOLD: 1 } },
  { date: "2025-12-10", revenue: 712, orders: 21, units: { THE_BOX: 12, DEFINE: 5, SALT: 3, HOLD: 1 } },
  { date: "2025-12-11", revenue: 845, orders: 25, units: { THE_BOX: 15, DEFINE: 6, SALT: 3, HOLD: 1 } },
  { date: "2025-12-12", revenue: 534, orders: 16, units: { THE_BOX: 10, DEFINE: 4, SALT: 3, HOLD: 1 } },
  { date: "2025-12-13", revenue: 534, orders: 16, units: { THE_BOX: 9, DEFINE: 4, SALT: 2, HOLD: 1 } },
  { date: "2025-12-14", revenue: 489, orders: 14, units: { THE_BOX: 8, DEFINE: 3, SALT: 2, HOLD: 1 } },
  { date: "2025-12-15", revenue: 678, orders: 20, units: { THE_BOX: 12, DEFINE: 4, SALT: 3, HOLD: 1 } },
  { date: "2025-12-16", revenue: 923, orders: 27, units: { THE_BOX: 16, DEFINE: 6, SALT: 4, HOLD: 1 } },
];

// Calculate engagement score: weighted combination of engagement metrics relative to views
export const calculateEngagementScore = (post: typeof contentPosts[0]): number => {
  if (post.views === 0) return 0;
  const engagementSum = post.likes + (post.comments * 3) + (post.shares * 2) + (post.saves * 2);
  return engagementSum / post.views;
};

// Get posts for a specific date
export const getPostsForDate = (date: string) => {
  return contentPosts.filter(post => post.published_at.startsWith(date));
};

// Calculate average engagement score for a date
export const getAvgEngagementForDate = (date: string) => {
  const posts = getPostsForDate(date);
  if (posts.length === 0) return 0;
  const totalScore = posts.reduce((sum, post) => sum + calculateEngagementScore(post), 0);
  return totalScore / posts.length;
};

// Get engagement bucket data
export const getEngagementBucketData = () => {
  const buckets = {
    low: { posts: [] as typeof contentPosts, revenueSum: 0, count: 0 },
    medium: { posts: [] as typeof contentPosts, revenueSum: 0, count: 0 },
    high: { posts: [] as typeof contentPosts, revenueSum: 0, count: 0 },
  };

  contentPosts.forEach(post => {
    const score = calculateEngagementScore(post);
    const postDate = post.published_at.split('T')[0];
    
    // Find revenue 24-48h later
    const postDateObj = new Date(postDate);
    const nextDay = new Date(postDateObj);
    nextDay.setDate(nextDay.getDate() + 1);
    const dayAfter = new Date(postDateObj);
    dayAfter.setDate(dayAfter.getDate() + 2);
    
    const nextDayStr = nextDay.toISOString().split('T')[0];
    const dayAfterStr = dayAfter.toISOString().split('T')[0];
    
    const sales1 = dailySales.find(s => s.date === nextDayStr);
    const sales2 = dailySales.find(s => s.date === dayAfterStr);
    
    const avgRevenue = ((sales1?.revenue || 0) + (sales2?.revenue || 0)) / 2;
    
    if (score < 0.07) {
      buckets.low.posts.push(post);
      buckets.low.revenueSum += avgRevenue;
      buckets.low.count++;
    } else if (score < 0.11) {
      buckets.medium.posts.push(post);
      buckets.medium.revenueSum += avgRevenue;
      buckets.medium.count++;
    } else {
      buckets.high.posts.push(post);
      buckets.high.revenueSum += avgRevenue;
      buckets.high.count++;
    }
  });

  const avgOverall = dailySales.reduce((sum, s) => sum + s.revenue, 0) / dailySales.length;

  return [
    {
      level: "Low",
      threshold: "< 0.07",
      avgRevenue: Math.round(buckets.low.revenueSum / (buckets.low.count || 1)),
      lift: Math.round(((buckets.low.revenueSum / (buckets.low.count || 1)) / avgOverall - 1) * 100),
    },
    {
      level: "Medium",
      threshold: "0.07 - 0.11",
      avgRevenue: Math.round(buckets.medium.revenueSum / (buckets.medium.count || 1)),
      lift: Math.round(((buckets.medium.revenueSum / (buckets.medium.count || 1)) / avgOverall - 1) * 100),
    },
    {
      level: "High",
      threshold: "> 0.11",
      avgRevenue: Math.round(buckets.high.revenueSum / (buckets.high.count || 1)),
      lift: Math.round(((buckets.high.revenueSum / (buckets.high.count || 1)) / avgOverall - 1) * 100),
    },
  ];
};

// Get format comparison data
export const getFormatComparisonData = () => {
  const formats: Record<string, { totalScore: number; count: number }> = {};
  
  contentPosts.forEach(post => {
    const formatKey = post.platform === 'tiktok' ? 'TikTok Video' : 
                      post.type === 'reel' ? 'Instagram Reel' :
                      post.type === 'story' ? 'Instagram Story' : 'Instagram Post';
    
    if (!formats[formatKey]) {
      formats[formatKey] = { totalScore: 0, count: 0 };
    }
    
    formats[formatKey].totalScore += calculateEngagementScore(post);
    formats[formatKey].count++;
  });

  return Object.entries(formats)
    .map(([format, data]) => ({
      format,
      avgEngagement: Number((data.totalScore / data.count).toFixed(3)),
    }))
    .sort((a, b) => b.avgEngagement - a.avgEngagement);
};

// Get chart data for revenue vs engagement
export const getRevenueEngagementChartData = () => {
  return dailySales.map(sale => {
    const posts = getPostsForDate(sale.date);
    const avgEngagement = getAvgEngagementForDate(sale.date);
    const hasTikTok = posts.some(p => p.platform === 'tiktok');
    const hasReel = posts.some(p => p.type === 'reel');
    
    return {
      date: sale.date.split('-').slice(1).join('/'),
      fullDate: sale.date,
      revenue: sale.revenue,
      engagement: Number((avgEngagement * 100).toFixed(2)),
      hasTikTok,
      hasReel,
      postCount: posts.length,
    };
  });
};

// Products info
export const products = [
  { id: "prod_001", name: "THE BOX", price: 49, description: "Complete grooming kit with all essentials" },
  { id: "prod_002", name: "DEFINE", price: 18, description: "Styling paste for textured looks" },
  { id: "prod_003", name: "SALT", price: 17, description: "Sea salt spray for natural waves" },
  { id: "prod_004", name: "HOLD", price: 17, description: "Strong hold hairspray" },
];

// Quick stats
export const quickStats = {
  totalPosts: 30,
  instagramPosts: 18,
  tiktokPosts: 12,
  dateRange: "Dec 1-16, 2025",
  totalRevenue: 8920,
  totalOrders: 262,
  avgDailyRevenue: 558,
};
